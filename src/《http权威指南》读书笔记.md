## 概述

最近对http很感兴趣，于是开始看[《http权威指南》](https://book.douban.com/subject/10746113/)。别人都说这本书有点老了，而且内容太多。我个人觉得这本书**写的太好了**，非常长知识，让你知道关于http的很多概念，不仅告诉你怎么做，还告诉你为什么这么做。于是我把学到的知识点记录下来，供以后开发时参考，相信对其他人也有用。

### http概述

1.Web服务器是Web资源的宿主，但是资源并不一定非得是静态文件，资源还可以是根据需要生成内容的**软件程序**。总之，所有类型的内容来源都是资源，电子表格文档是一种资源，Web网关是一种资源，搜索引擎也还是一种资源。

2.MIME type就是**媒体类型**，用来标记多媒体内容，比如：html格式的文本文档由text/html类型来标记；jpeg图片用image/jpeg来标记等等。

3.URI = URL + URN。url是用路径作为标识的统一资源标识符（URI）。URN是统一资源名，它与位置无关，所以如果url路径上的资源不存在了，url会失效，但是**URN不会**。

4.一个Web页面通常并不是单个资源，而是**一组资源的集合**，它要为每个嵌入式资源使用一个单独的http事务。

5.**http报文（message）**包括这三个部分：
1. 起始行，在请求报文里面用来说明要做些什么；在响应报文里面说明发生了什么。
2. 首部字段；以键值对的形式，名字和值用冒号来分隔，互相之间以一个空行结束。
3. 主体。

6.http报文是通过**TCP协议**从一个地方搬到另一个地方去的。TCP提供了：
- 无差错的数据传输
- 按序传输（数据总是按照发送的顺序到达）
- 未分段的数据流（可以在任意时刻以任意尺寸将数据发送出去）

7.从上往下依次是：应用层（http），传输层(TCP)，网络层(IP)，数据链路层(网络接口)，物理层（物理硬件）。所以真正在网络中传输的其实就是**http，TCP和IP**。

8.http的默认端口号是**80**；https的默认端口号是**443**。

9.**HTTP-NG**又名HTTP/2.0。

10.Web的结构组件：
- **代理**。代理位于客户端和服务端之间，接受所有客户端的http请求，并将这些请求转发给服务器（可能会对请求进行修改之后转发）。
- **缓存**。Web缓存（web cache）或者代理缓存(proxy cache)是一种特殊的http代理服务器，可以将经过代理传送的常用文档复制保存起来，下一个请求同一个文档的客户端就可以享受缓存的私有副本所提供的服务了。
- **网关**。网关是一种特殊的服务器。它作为其他服务器的中间实体使用，通常用于将http流量转换成其他的协议，比如ftp协议。客户端可能并不知道自己正在与一个网关进行通信。
- **隧道**。隧道是建立起来后，就会在两条连接之间对原始数据进行盲转发的http应用程序，http隧道通常用来在一条或多条http连接上转发非http数据，转发时不会窥探数据。常见用途是利用隧道转发SSL流量，这样SSL流量就可以穿过只允许http流量通过的防火墙了。
- **Agent代理**。用户Agent代理简称Agent代理，是代表用户发起http请求的客户端程序。所有发布web请求的应用程序都是http Agent代理。比如：web浏览器。


